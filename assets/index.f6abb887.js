import{d as v,o as s,n as w,p as B,f as z,e as j,c as p,w as t,a as o,u as e,L,M as R,K as Y,Q as ee,ag as q,H as g,W as I,I as h,a3 as D,ah as te,G as y,F as b,a5 as T,ai as oe,q as ae,_ as ne,Z as V,aj as ue,ak as se,a0 as le,a9 as re,al as ie,am as ce,an as N,v as k,ao as de,ap as P,aq as pe,ar as me,a8 as Q,z as fe,A as _e,as as ve,at as he,au as ge,r as we,av as Ee,x as Me,ac as Ce,D as be}from"./vendor.f69bab02.js";/* empty css             */import{_ as K,u as Be,b as $e}from"./index.4a9d0f05.js";import{u as F,h as xe,R as d,U as x,i as ye,j as G}from"./index.26d83821.js";/* empty css              *//* empty css               *//* empty css               */import{u as S}from"./useToggle.48734944.js";import{u as A}from"./useLocale.448bb733.js";import{S as Fe}from"./drawer.a0d26702.js";/* empty css                *//* empty css                  *//* empty css              *//* empty css                          *//* empty css            */import{_ as H}from"./plugin-vue_export-helper.1c6f6f40.js";/* empty css                *//* empty css               *//* empty css             */const Ae=v({name:"Back"}),De={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ve=B("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),ke=B("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),Se=[Ve,ke];function ze(m,u,n,r,l,a){return s(),w("svg",De,Se)}var Ie=H(Ae,[["render",ze]]);const He=v({name:"Document"}),Le={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Re=B("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),Te=[Re];function Ne(m,u,n,r,l,a){return s(),w("svg",Le,Te)}var Pe=H(He,[["render",Ne]]);const Ue=v({name:"Key"}),Oe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},We=B("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064zM512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384z"},null,-1),je=[We];function qe(m,u,n,r,l,a){return s(),w("svg",Oe,je)}var Qe=H(Ue,[["render",qe]]);const Ke="_spaceWrapper_11k5i_2",Ge="_spaceMain_11k5i_5";var U={spaceWrapper:Ke,spaceMain:Ge};const Ze=B("h4",{class:"text-lg"},"\u4FEE\u6539\u5BC6\u7801",-1),Je=g(" \u786E\u8BA4\u4FEE\u6539 "),Xe=v({props:{visible:{type:Boolean}},emits:["onClose"],setup(m,{emit:u}){const n=m,{userConfig:r}=F(),l=z(),a=j({pwd:"",confirmPwd:""}),{isActive:i,onToggle:f}=S(),c={pwd:{message:"\u8BF7\u8F93\u5165\u4FEE\u6539\u7684\u5BC6\u7801",required:!0,trigger:"change"},confirmPwd:{trigger:"change",required:!0,validator:(E,M,C)=>(M.length===0&&C("\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801"),M!==a.pwd&&C("\u53CC\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"),!0)}},_=()=>{u("onClose"),l.value&&l.value.resetFields()},$=async()=>{try{f(),l.value&&await l.value.validate(),await xe.putRequest(Fe,null,{params:{pwd:a.confirmPwd,studentId:r.studentId}}),_()}catch{}finally{f()}};return(E,M)=>(s(),p(e(q),{"model-value":n.visible,"before-close":_},{title:t(()=>[Ze]),default:t(()=>[o(e(Y),{ref_key:"formRef",ref:l,model:e(a),"label-position":"top",rules:c},{default:t(()=>[o(e(L),{label:"\u4FEE\u6539\u5BC6\u7801",prop:"pwd"},{default:t(()=>[o(e(R),{id:"pwd",modelValue:e(a).pwd,"onUpdate:modelValue":M[0]||(M[0]=C=>e(a).pwd=C),placeholder:"\u8BF7\u8F93\u5165\u4FEE\u6539\u7684\u5BC6\u7801",type:"password"},null,8,["modelValue"])]),_:1}),o(e(L),{label:"\u4E8C\u6B21\u786E\u8BA4",prop:"confirmPwd"},{default:t(()=>[o(e(R),{id:"confirmPwd",modelValue:e(a).confirmPwd,"onUpdate:modelValue":M[1]||(M[1]=C=>e(a).confirmPwd=C),type:"password",placeholder:"\u8BF7\u518D\u6B21\u786E\u8BA4\u4FEE\u6539\u7684\u5BC6\u7801","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o(e(ee),{type:"primary",loading:e(i),plain:"",onClick:$},{default:t(()=>[Je]),_:1},8,["loading"])]),_:1},8,["model-value"]))}}),Ye={[d.Home]:{label:"\u4E3B\u9875"},[d.ExamList]:{label:"\u6211\u7684\u8003\u8BD5"}},et={[d.Home]:{label:"\u4E3B\u9875"},[d.ExamManage]:{label:"\u8003\u8BD5\u7BA1\u7406"},[d.ScoreManage]:{label:"\u6210\u7EE9\u7BA1\u7406"},[d.QuestionManage]:{label:"\u9898\u5E93\u7BA1\u7406",children:[{key:d.QuestionMultipleChoice,label:"\u9009\u62E9\u9898\u9898\u5E93"},{key:d.QuestionTrueFalse,label:"\u5224\u65AD\u9898\u9898\u5E93"},{key:d.QuestionFillBlank,label:"\u586B\u7A7A\u9898\u9898\u5E93"}]},[d.StudentManage]:{label:"\u5B66\u751F\u7BA1\u7406",children:[{key:d.StudentManageList,label:"\u5B66\u751F\u5217\u8868"},{key:d.StudentManageEnroll,label:"\u5F55\u5165\u5B66\u751F\u4FE1\u606F"}]}},tt=new Map([[x.Admin,"\u7BA1\u7406\u5458"],[x.Student,"\u5B66\u751F"],[x.Teacher,"\u6559\u5E08"]]),ot=new Map([["sex","\u6027\u522B"],["tel","\u624B\u673A"],["email","\u90AE\u7BB1"],["cardId","\u8EAB\u4EFD\u8BC1\u53F7\u7801"]]),at=new Map([["adminId","\u7BA1\u7406\u5458\u7F16\u53F7"],["adminName","\u7BA1\u7406\u5458\u540D\u79F0"]]),nt=new Map([["studentId","\u5B66\u53F7"],["studentName","\u59D3\u540D"],["clazz","\u73ED\u7EA7"],["grade","\u5E74\u7EA7"],["institute","\u5B66\u9662"],["major","\u4E13\u4E1A"]]),ut={class:"text-lg"},st=v({props:{visible:{type:Boolean}},emits:["onClose"],setup(m,{emit:u}){const n=m,{t:r}=A(),l=F(),a=I(()=>{const{userConfig:i}=l;return i.role===x.Admin?at:nt});return(i,f)=>(s(),p(e(q),{"model-value":n.visible,"before-close":()=>u("onClose")},{title:t(()=>[B("h4",ut,h(e(r)("profile.personal")),1)]),default:t(()=>[o(e(T),{title:e(r)("profile.basic"),column:1},{default:t(()=>[o(e(D),{label:e(r)("profile.account"),span:2},{default:t(()=>[o(e(te),null,{default:t(()=>[g(h(e(tt).get(e(l).userConfig.role)),1)]),_:1})]),_:1},8,["label"]),(s(!0),w(b,null,y(e(ot),([c])=>(s(),p(e(D),{key:c,label:e(r)(`profile.${c}`),"min-width":260},{default:t(()=>[g(h(e(l).userConfig[c]||"-"),1)]),_:2},1032,["label"]))),128))]),_:1},8,["title"]),o(e(T),{class:"mt-5",title:e(r)("profile.other"),column:2},{default:t(()=>[(s(!0),w(b,null,y(e(a),([c])=>(s(),p(e(D),{key:c,label:e(r)(`profile.${c}`)},{default:t(()=>[g(h(e(l).userConfig[c]||"-"),1)]),_:2},1032,["label"]))),128))]),_:1},8,["title"])]),_:1},8,["model-value","before-close"]))}}),Z=v({setup(m){const u=oe("motion-instance"),{t:n}=A(),r=ae(),l=F(),{isActive:a,onToggle:i}=S(),{isActive:f,onToggle:c}=S(),_=()=>{u&&u.leave(async()=>{await r.push({name:d.Login}),ye()})};return($,E)=>(s(),w(b,null,[o(e(le),null,{dropdown:t(()=>[o(e(ne),null,{default:t(()=>[o(e(V),{icon:e(Pe),onClick:e(c)},{default:t(()=>[g(h(e(n)("profile.personal")),1)]),_:1},8,["icon","onClick"]),e(l).isAdminAccount?ue("",!0):(s(),p(e(V),{key:0,icon:e(Qe),onClick:e(i)},{default:t(()=>[g(h(e(n)("profile.modifyPwd")),1)]),_:1},8,["icon","onClick"])),o(e(V),{icon:e(Ie),divided:"",onClick:_},{default:t(()=>[g(h(e(n)("profile.signOut")),1)]),_:1},8,["icon"])]),_:1})]),default:t(()=>[o(e(se),{class:"cursor-pointer",shape:"square",src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"})]),_:1}),o(st,{visible:e(f),onOnClose:e(c)},null,8,["visible","onOnClose"]),o(Xe,{visible:e(a),onOnClose:e(i)},null,8,["visible","onOnClose"])],64))}});const J=v({props:{mode:null},setup(m){const u=m,{t:n}=A(),r=re(),l=F(),a=z(d.Home),i=I(()=>{const{userConfig:f}=l;return f.role===x.Admin?et:Ye});return ie(()=>{const f=r.meta.activeMenu;a.value=f}),(f,c)=>(s(),p(e(de),{class:k({"w-2/3":u.mode==="horizontal"}),mode:u.mode,"default-active":a.value,router:""},{default:t(()=>[(s(!0),w(b,null,y(Object.entries(e(i)),([_,$])=>(s(),w(b,{key:_},[$.children?(s(),p(e(ce),{key:0,index:_},{title:t(()=>[g(h(e(n)(`menu.${_}`)),1)]),default:t(()=>[(s(!0),w(b,null,y($.children,E=>(s(),p(e(N),{key:E.key,index:E.key,route:{name:E.key}},{default:t(()=>[g(h(e(n)(`menu.${E.key}`)),1)]),_:2},1032,["index","route"]))),128))]),_:2},1032,["index"])):(s(),p(e(N),{key:1,index:_,route:{name:_}},{default:t(()=>[g(h(e(n)(`menu.${_}`)),1)]),_:2},1032,["index","route"]))],64))),128))]),_:1},8,["class","mode","default-active"]))}}),X=v({setup(m){const{t:u}=A(),n=G(),r=I(()=>n.isMenuModeVertical?"top":"bottom"),l=a=>n.menuMode=a;return(a,i)=>(s(),p(e(me),{effect:"light",content:e(u)("menuMode.modeTip"),placement:e(r)},{default:t(()=>[o(e(pe),{modelValue:e(n).menuMode,"onUpdate:modelValue":i[0]||(i[0]=f=>e(n).menuMode=f),style:{width:"91px"},size:"small",onChange:l},{default:t(()=>[o(e(P),{label:e(u)("menuMode.horizontalMode"),value:"horizontal"},null,8,["label"]),o(e(P),{label:e(u)("menuMode.verticalMode"),value:"vertical"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["content","placement"]))}}),O=v({setup(m){return(u,n)=>(s(),p(e(fe),{class:"flex justify-between items-center"},{default:t(()=>[o(J,{mode:"horizontal"}),o(e(Q),null,{default:t(()=>[o(K),o(X),o(Z)]),_:1})]),_:1}))}}),W=v({setup(m){return(u,n)=>(s(),p(e(_e),{class:"relative"},{default:t(()=>[o(J,{mode:"vertical"}),o(e(Q),{class:"absolute bottom-2 left-2 w-full"},{default:t(()=>[o(Z),o(X),o(K)]),_:1})]),_:1}))}}),xt=v({setup(m){const u=G(),n=z(),r=ve(u.isMenuModeVertical?W:O),l=j({flexDirection:u.isMenuModeVertical?"row":"column"}),a=Be(n,$e);return u.$subscribe(async()=>{const{isMenuModeVertical:i}=u;await a.leave(()=>{l.flexDirection=i?"row":"column",r.value=i?W:O}),await a.apply("initial"),await a.apply("enter")}),he("motion-instance",ge(a)),(i,f)=>{const c=we("router-view");return s(),p(e(Me),{ref_key:"spaceWrapperRef",ref:n,class:k(e(U).spaceWrapper),style:Ee(e(l))},{default:t(()=>[(s(),p(Ce(e(r)))),o(e(be),{class:k(e(U).spaceMain)},{default:t(()=>[o(c)]),_:1},8,["class"])]),_:1},8,["class","style"])}}});export{xt as default};
